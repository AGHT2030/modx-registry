{
    "openapi": "3.0.0",
    "info": {
        "title": "MODAStay Franchise Admin API",
        "version": "1.0.0",
        "description": "Protected API for franchise onboarding, RSA licensing, Geo-Fence, MODE licensing, and smart contract sync.",
        "contact": {
            "name": "Mia Lopez",
            "email": "compliance@blcef.com"
        }
    },
    "paths": {
        "/admin/property": {
            "get": {
                "tags": [
                    "Franchise Property"
                ],
                "summary": "List all franchise properties",
                "responses": {
                    "200": {
                        "description": "List of franchise properties",
                        "content": {
                            "application/json": {}
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Franchise Property"
                ],
                "summary": "Create a new franchise property",
                "responses": {
                    "201": {
                        "description": "Property created"
                    }
                }
            }
        },
        "/admin/property/{id}": {
            "get": {
                "tags": [
                    "Franchise Property"
                ],
                "summary": "Get a property by ID",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Property details"
                    }
                }
            },
            "put": {
                "tags": [
                    "Franchise Property"
                ],
                "summary": "Update a franchise property",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Property updated"
                    }
                }
            },
            "delete": {
                "tags": [
                    "Franchise Property"
                ],
                "summary": "Delete a property",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Property deleted"
                    }
                }
            }
        },
        "/admin/property/{id}/rsa/issue": {
            "post": {
                "tags": [
                    "RSA Licensing"
                ],
                "summary": "Issue RSA franchise license keypair",
                "responses": {
                    "200": {
                        "description": "RSA issued"
                    }
                }
            }
        },
        "/admin/property/{id}/rsa/rotate": {
            "post": {
                "tags": [
                    "RSA Licensing"
                ],
                "summary": "Rotate RSA keypair",
                "responses": {
                    "200": {
                        "description": "Keys rotated"
                    }
                }
            }
        },
        "/admin/property/{id}/geofence": {
            "put": {
                "tags": [
                    "GeoFence"
                ],
                "summary": "Update property's geofence radius",
                "responses": {
                    "200": {
                        "description": "GeoFence updated"
                    }
                }
            }
        },
        "/admin/property/{id}/mode": {
            "put": {
                "tags": [
                    "MODE Licensing"
                ],
                "summary": "Update MODE event coordinator licensing",
                "responses": {
                    "200": {
                        "description": "MODE updated"
                    }
                }
            }
        },
        "/admin/property/{id}/contracts": {
            "put": {
                "tags": [
                    "Smart Contracts"
                ],
                "summary": "Update smart contract addresses for franchise",
                "responses": {
                    "200": {
                        "description": "Contracts updated"
                    }
                }
            }
        },
        "/admin/property/{id}/staff": {
            "post": {
                "tags": [
                    "Staff"
                ],
                "summary": "Add staff member to property",
                "responses": {
                    "200": {
                        "description": "Staff added"
                    }
                }
            }
        },
        "/admin/property/{id}/compliance": {
            "post": {
                "tags": [
                    "Compliance"
                ],
                "summary": "Append a compliance log entry",
                "responses": {
                    "200": {
                        "description": "Compliance log added"
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "FranchiseProperty": {
                "type": "object",
                "properties": {
                    "propertyId": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "address": {
                        "type": "string"
                    },
                    "RSA": {
                        "type": "object",
                        "properties": {
                            "publicKey": {
                                "type": "string"
                            },
                            "keyVersion": {
                                "type": "number"
                            }
                        }
                    },
                    "GeoFence": {
                        "type": "object",
                        "properties": {
                            "lat": {
                                "type": "number"
                            },
                            "lng": {
                                "type": "number"
                            },
                            "radiusMeters": {
                                "type": "number"
                            }
                        }
                    },
                    "MODE": {
                        "type": "object",
                        "properties": {
                            "enabled": {
                                "type": "boolean"
                            },
                            "tier": {
                                "type": "string"
                            },
                            "maxEventsPerMonth": {
                                "type": "number"
                            },
                            "autoApproval": {
                                "type": "boolean"
                            }
                        }
                    },
                    "contracts": {
                        "type": "object",
                        "properties": {
                            "hybrid": {
                                "type": "string"
                            },
                            "airs": {
                                "type": "string"
                            },
                            "payout": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        }
    }
}